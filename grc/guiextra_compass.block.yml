id: guiextra_compass
label: QT GUI Compass
category: '[GUI Extra]'

parameters:
-   id: name
    label: Label
    dtype: string
    hide: ${ ('none' if len(name) > 0 else 'part') }
-   id: position
    label: Label Position
    dtype: enum
    default: '1'
    options: ['1', '2']
    option_labels: ['Above', 'Below']
    hide: 'part'
-   id: update_time
    label: Update Period
    dtype: float
    default: '0.10'
-   id: min_size
    label: Min Size (px)
    dtype: int
    default: '250'
-   id: fullNeedle
    label: Needle
    dtype: enum
    options: ['1', '0', '2']
    option_labels: [Full, Indicator, Ambig -Pi to Pi]
-   id: usemsg
    label: Input Type
    dtype: enum
    default: 'False'
    options: ['False', 'True']
    option_labels: ['Stream', 'Message']
-   id: setDebug
    label: Print Updates
    dtype: enum
    default: 'False'
    options: ['False', 'True']
    option_labels: ['No', 'Yes']
    hide: 'part'
-   id: gui_hint
    label: GUI Hint
    dtype: gui_hint
    hide: part

inputs:
-   domain: stream
    dtype: float
    optional: true
-   domain: message
    id: angle
    optional: true

templates:
    imports: import guiextra
    make: |-
        <%
            win = 'self._%s_win'%id
        %>\
        ${win} = guiextra.GrCompass(${name}, ${min_size}, ${update_time}, ${setDebug}, ${fullNeedle},${usemsg},${position})
        self._${id} = ${win}
        ${gui_hint() % win}

documentation: |-
    This block takes angle in degrees as input and displays it on a compass.
    Args:
    update_time: Time-interval between GUI update.
    min_val: Min. value displayed on the compass.
    max_val: Max. value displayed on the compass.
    step: Step-size.
    arc_bias: Clockwise rotation applied to dial.
    usemsg: Use the message instead of the stream input.
file_format: 1
